<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snail</title>
</head>
<style>
    td{
        width: 80px;
        height: 50px;
        text-align: center;
    }
</style>
<body>
    <br><input type=button id=snail value='Snail'>
    <table border=1 id=tbl2>
        <tbody id=tbl_body>

        </tbody>
    </table>
</body>
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script>
    // $(document).ready(function(){
    // n=prompt('n값을 입력하시오'); 
    // for(a=0;a<n;a++){
    //   $('#tbl').append('<tr></tr>');
    //   for(b=0;b<n;b++){
    //     $('#tbl tr:eq('+a+')').append('<td style="width:80px;height:50px;"></td>');
    //   }
    // }
    //     //동서남북
    //     nE=n; 
    //     nW=n;
    //     nS=n;
    //     nN=n;
    //     way='E';
    //     x=0; y=0;
    //     for(i=1;i<=n*n;i++){
    //         $(`#tbl tr:eq(${x}) td:eq(${y})`).text(i);
    //             if(way=='E'){
    //                 y++;
    //                 if(y=>nE) {
    //                     y--;x++;way='S'; nE--;
    //                 }
    //             } else if(way=='W') {
    //                 y--;
    //                 if(y<=nW){
    //                     y++;x--;way='N'; nW++;
    //                 }
    //             } else if(way=='S') {
    //                 x++;
    //                 if(x>=nS){
    //                     x--;y--;way='W';nS--;
    //                 }
    //             } else if(way=='N') {
    //                 x--;
    //                 if(x<=nN){
    //                     x++;y++;way='E';nN++;
    //                 }
    //             }
    //          }
    //         })
    // 입력한 갯수만큼 테이블 만들어주기.
    n=prompt('snail 칸의 갯수를 입력해주세요.')
        num=parseInt(n, 0)
        trtd='<tr><td>'
        trPos='</td></tr>'
        td='</td><td>'
        if(num!=0){
            for(i=0;i<num;i++){ 
                $('#tbl_body').append(trtd+(td.repeat(num-1)+trPos))
            }
        }   
        // snail 알고리즘
        nCount=1; // num
        tmpCnt=1; // dir 방향이 한 사이클을 돌면 추가 시켜줄 변수
        dir=0; // 회전방향 → = 0, ↓ = 1, ← = 2, ↑ = 3
        i=j=0;
        while(nCount<=(num*num)){
            $(`#tbl_body tr:eq(${i}) td:eq(${j})`).text(nCount++) 
            if(dir==0){ // 회전방향 →
                j++
                if(j==num-tmpCnt){
                    dir=1
                }
            }
            else if(dir==1){ // 회전방향 ↓
                i++
                if(i==num-tmpCnt){
                    dir=2
                }
            }
            else if(dir==2){ // 회전방향 ←
                j--
                if(j==(tmpCnt-1)){
                    dir=3
                }
            }
            else if(dir==3){ // 회전방향 ↑
                i--
                if(i==tmpCnt){
                    tmpCnt++; // 한 사이클 끝난 뒤 임시변수 ++
                    dir=0
                }
            }
        }
</script>
</html>